{# src/Okeanos/CoreBundle/Resources/views/Default/usersAdd.html.twig #}
{% extends 'OkeanosCoreBundle::layout.html.twig' %}
{% block title %}Ajouter un user | Users | {{ parent() }}{% endblock %}
{% block container %}
    {{ form_start(form) }}

    {# Les erreurs générales du formulaire. #}
    {{ form_errors(form) }}

    <div class="form-group">
        {# Génération du label. #}
        {{ form_label(form.username, 'Login :') }}

        {# Affichage des erreurs pour ce champ précis. #}
        {{ form_errors(form.username) }}

        {# Génération de l'input. #}
        <div class="input-group mb-2">
            <div class="input-group-prepend">
                <div class="input-group-text">@</div>
            </div>
            {{ form_widget(form.username, {'attr': {'class': 'form-control', 'placeholder': 'Enter a login'}}) }}
        </div>
        <small id="passwordHelpBlock" class="form-text text-muted">
            Username mustn't exceed 25 characters.
        </small>
    </div>

    <div class="form-group">
        {# Génération du label. #}
        {{ form_label(form.password, 'Password :') }}

        {# Affichage des erreurs pour ce champ précis. #}
        {{ form_errors(form.password) }}

        {# Génération de l'input. #}
        {{ form_widget(form.password, {'attr': {'class': 'form-control', 'placeholder': 'Enter a password'}}) }}
    </div>

    <div class="form-group">
        {# Génération du label. #}
        {{ form_label(form.email, 'Mail :') }}

        {# Affichage des erreurs pour ce champ précis. #}
        {{ form_errors(form.email) }}

        {# Génération de l'input. #}
        {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Enter a mail'}}) }}

        <small id="passwordHelpBlock" class="form-text text-muted">
            email@example.com
        </small>
    </div>

    {# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget. #}
    {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}

    {# Génération automatique des champs pas encore écrits. Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !) et tous les autres champs cachés (type "hidden"). #}
    {{ form_rest(form) }}

    {# Fermeture de la balise "form" du formulaire HTML. #}
    {{ form_end(form) }}
{% endblock %}